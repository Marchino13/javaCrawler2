<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Session Example</title>
</head>
<body>
<h1>这是预览页面</h1>
<div id="sessionData"></div>

<script>
    //轮训函数
    function checkTaskStatus() {
        fetch("/crawler/preview")
            .then(response => response.json())
            .then(news => {
                console.log(news);
                // 在这里处理news对象
            });
    }
    // 初始调用
    checkTaskStatus();

    // function fetchSessionData(attribute) {
    //     fetch(`/crawler/get?attribute=${attribute}`)
    //         .then(response => response.text())
    //         .then(data => {
    //             const sessionDataDiv = document.getElementById('sessionData');
    //             sessionDataDiv.innerHTML = `<p>${attribute}: ${data}</p>`;
    //         })
    //         .catch(error => {
    //             console.error('Error fetching session data:', error);
    //         });
    // }

    // 例如，获取名为 'username' 的会话属性
    // fetchSessionData('test');
</script>
</body>
</html>